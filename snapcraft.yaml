name: not-lb
grade: stable
version: 0.0.1
summary: The best place to store and share thoughts
description: |
  Privacy shouldn't be a compromise. That's why we made Lockbook, a companion
  for recording thoughts on all your devices. Record, sync, and share your
  notes with apps engineered to feel like home on every platform. We collect no
  personal information and encrypt your notes so even we can't see them. Don't
  take our word for it: Lockbook is 100% open-source.

architectures:
  - build-on: amd64
    run-on: amd64

base: core20
confinement: strict

apps:
  not-lb-gui:
    command: bin/lockbook-gui
    extensions: [gnome-3-38]
    plugs: [network]

  not-lb:
    command: bin/lockbook
    plugs: [network]

parts:
  lockbook-gui:
    plugin: rust
    source: .
    source-subdir: clients/linux
    build-packages:
      - libgtksourceview-3.0-dev
    organize: 
      bin/lockbook: bin/lockbook-gui

  not-lb:
    plugin: rust
    source: .
    source-subdir: clients/cli
    build-packages:
      - libgtksourceview-3.0-dev
